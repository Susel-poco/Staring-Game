<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–∞ –ì–ª—è–¥–µ–ª–∫–∏</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
</head>
<body>
    <div id="game-container">
        <button id="skins-btn" class="top-btn left-btn">üëï –°–∫–∏–Ω—ã</button>
        <button id="leaderboard-btn" class="top-btn right-btn">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
        <h1>–ù–µ –º–æ—Ä–≥–∞–π! üëÅÔ∏è</h1>
        <div id="camera-wrap">
            <video id="video" autoplay playsinline muted></video>
            <canvas id="output"></canvas>
        </div>
        <div id="duel-container" style="display: none; margin-bottom: 10px; font-size: 18px;">
            üéØ –¶–µ–ª—å: <span id="target-score" style="color: #ff4b4b; font-weight: bold;">0.00</span> —Å–µ–∫
        </div>
        <div id="info">
            <p id="timer">–í—Ä–µ–º—è: 0.00 —Å–µ–∫</p>
        </div>
        <p style="color: yellow; font-size: 12px;">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≥–ª–∞–∑: <span id="debug-ear">0.00</span></p>
        <button id="action-btn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>

    <div id="result-screen" class="hidden">
        <div class="result-content">
            <button id="close-result-btn" class="close-icon">‚úï</button>
            
            <h1 id="result-title">–ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê</h1>
        
            <div class="score-box">
                <p>–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</p>
                <span id="final-score">0.00</span> —Å–µ–∫
            </div>

            <div id="duel-result-info" style="display: none;">
                <p class="vs">VS</p>
                <p>–†–µ–∫–æ—Ä–¥ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞:</p>
                <span id="opponent-score">0.00</span> —Å–µ–∫
            </div>

            <button id="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç üì§</button>
        </div>
    </div>

    <div id="skins-menu" class="overlay hidden">
        <div class="menu-content skin-selector-box">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–∏–Ω –¥–ª—è –≥–ª–∞–∑</h2>
            <div class="skins-grid">
                <button class="skin-option active" data-skin="default">
                    <div class="skin-preview default-preview"></div>
                    <span>–û–±—ã—á–Ω—ã–µ</span>
                </button>

                <button class="skin-option" data-skin="kazakhstan">
                    <img src="kazakhstan.png" class="skin-preview">
                    <span>–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</span>
                </button>

                <button class="skin-option" data-skin="sharingan">
                    <img src="sharingan.jpg" class="skin-preview">
                    <span>–®–∞—Ä–∏–Ω–≥–∞–Ω</span>
                </button>

                <button class="skin-option" data-skin="itachi">
                    <img src="itachi.png" class="skin-preview">
                    <span>–ò—Ç–∞—á–∏</span>
                </button>

                <button class="skin-option" data-skin="rinnegan">
                    <img src="rinnegan.jpg" class="skin-preview">
                    <span>–†–∏–Ω–Ω–µ–≥–∞–Ω</span>
                </button>
            </div>
            <button id="close-skins-btn" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    <div id="leaderboard-menu" class="overlay hidden">
        <div class="menu-content leaderboard-box">
            <h2>üèÜ –¢–æ–ø –ì–ª—è–¥–µ–ª–æ–∫</h2>
            <div class="leaderboard-header">
                <span>#</span>
                <span style="text-align: left;">–ò–≥—Ä–æ–∫</span>
                <span>–í—Ä–µ–º—è</span>
            </div>
            <div id="leaderboard-list">
                </div>
            <button id="close-leaderboard-btn" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>